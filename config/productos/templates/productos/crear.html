{% extends 'core/base.html' %}

{% block title %}Crear producto - Ecofor Market{% endblock %}

{% block content %}
<div class="admin-page-container">
  <div class="admin-card form-card">

    <h1 class="admin-title">Crear producto</h1>
    <p class="admin-subtitle">
      Completa la información del nuevo producto para agregarlo al catálogo.
    </p>

    <form method="POST" enctype="multipart/form-data">
      {% csrf_token %}

      <div class="form-group">
        <label class="form-label">Nombre:</label>
        <input type="text" name="nombre" required>
      </div>

      <div class="form-group">
        <label class="form-label">Precio:</label>
        <input type="number" name="precio" step="0.01" required>
        <small class="form-help">Ingresa el precio en pesos chilenos.</small>
      </div>

      <div class="form-group">
        <label class="form-label">Stock:</label>
        <input type="number" name="stock" required>
        <small class="form-help">Cantidad disponible en bodega.</small>
      </div>

      <div class="form-group">
        <label class="form-label">Categoría:</label>
        <select name="categoria" required>
            <optgroup label="Papelería y Dispensadores">
                <option value="higienicos">Higiénicos</option>
                <option value="toallas_papel">Toallas de papel</option>
                <option value="servilletas">Servilletas</option>
                <option value="panuelos">Pañuelos</option>
                <option value="panos">Paños</option>
                <option value="sabanillas">Sabanillas</option>
                <option value="dispensadores">Dispensadores</option>
            </optgroup>

            <optgroup label="Artículos de Aseo">
                <option value="contenedores">Contenedores</option>
                <option value="basureros">Basureros</option>
                <option value="articulos_limpieza">Artículos de limpieza</option>
                <option value="aseo">Aseo</option>
            </optgroup>

            <optgroup label="Productos Químicos">
                <option value="pisos">Pisos</option>
                <option value="limpiadores" selected>Limpiadores</option>
                <option value="desodorante">Desodorante Ambiental</option>
                <option value="automotriz">Automotriz</option>
                <option value="lavanderia">Lavandería</option>
            </optgroup>

            <optgroup label="Seguridad y Horeca">
                <option value="epp">Elementos de Protección Personal (EPP)</option>
                <option value="horeca">HORECA</option>
            </optgroup>
        </select>
      </div>

      <div class="form-group">
        <label class="form-label">Descripción:</label>
        <textarea name="descripcion"></textarea>
        <small class="form-help">Puedes detallar formato, marca, presentación, etc.</small>
      </div>

      <div class="form-group">
        <label class="form-label">Imagen del producto (opcional):</label>
        <input type="file" name="imagen" accept="image/*">
        <small class="form-help">Puedes subir una imagen en formato JPG, PNG o WEBP.</small>
      </div>

      <div class="form-group" style="display: flex; align-items: center; gap: 10px; margin-top: 15px;">
        <input type="checkbox" name="activo" id="id_activo" checked style="width: 20px; height: 20px;">
        <label for="id_activo" class="form-label" style="margin-bottom: 0;">¿Visible en el catálogo?</label>
      </div>

      <div class="form-actions">
        <a href="{% url 'listar_productos' %}" class="btn btn-secondary">Cancelar</a>
        <button type="submit" class="btn btn-primary">Crear producto</button>
      </div>
    </form>

  </div>
</div>
{% endblock %}
